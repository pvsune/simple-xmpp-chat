var PageFunctions={submit:function(objPageFunction){PageFunctions.resetErrors(objPageFunction);var formElements=$(objPageFunction.namePrefix+"Form").getElements();formElements.each(function(){}),new Ajax.Request("/_toolbox/PageFunctions/PageFunctionHandler.aspx",{method:"post",parameters:$(objPageFunction.namePrefix+"Form").serialize(!0),onSuccess:function(transport){var jsonResponse=transport.responseText.evalJSON();jsonResponse.StatusOk==!0?(ajaxReq=null,objPageFunction.nextStep(jsonResponse.NextStep)):(ajaxReq=null,PageFunctions.handleErrors(jsonResponse,objPageFunction))},onFailure:function(){ajaxReq=null}})},resetErrors:function(objPageFunction){$(objPageFunction.namePrefix+"ErrorMsg").hide(),objPageFunction.errorFields.each(function(item){$(item+"_Err").ancestors()[0].hide()}),objPageFunction.highlightedFields.each(function(item){$(item).removeClassName("error")})},handleErrors:function(jsonResponse,objPageFunction){var errorElemId;errorElemId=objPageFunction.namePrefix+"ErrorMsg",$(errorElemId).show(),jsonResponse.ProcessingErrors!=null&&PageFunctions.handleProcessingErrors(jsonResponse.ProcessingErrors,objPageFunction),jsonResponse.ValidationErrors!=null&&PageFunctions.handleValidationErrors(jsonResponse.ValidationErrors,objPageFunction)},handleProcessingErrors:function(processingErrors,objPageFunction){$(objPageFunction.namePrefix+"ErrorMsg").update(),processingErrors.each(function(procErrors){$(objPageFunction.namePrefix+"ErrorMsg").insert("<strong class='left icon-error'>"+procErrors.ErrorDescription+"</strong><br class='v-clear'/>",{position:"bottom"})})},handleValidationErrors:function(ValidationErrors,objPageFunction){$(objPageFunction.namePrefix+"ErrorMsg").update("<strong class='left icon-error'>Bei der Eingabe ist ein Fehler aufgetreten. Bitte erg√§nzen bzw. korrigieren Sie Ihre Angaben.</strong><br class='v-clear'/>"),ValidationErrors.each(function(valErrors){var errElemId=valErrors.ErrorSource+"_Err";valErrors.ErrorDescription!=null&&$(errElemId).update(valErrors.ErrorDescription),$(errElemId).ancestors()[0].show(),objPageFunction.errorFields.push(valErrors.ErrorSource);try{valErrors.HighlightFields!=null?valErrors.HighlightFields.each(function(field){$(field).addClassName("error"),objPageFunction.highlightedFields.push(field)}):(objPageFunction.highlightedFields.push(valErrors.ErrorSource),$(valErrors.ErrorSource).addClassName("error"))}catch(e){}})}},PageFunctionsLoaded=!0;